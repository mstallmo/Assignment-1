<!DOCTYPE HTML>
<html>
<head>
  <script>
  function loadURL(url, callback)
  {

    var aXMLHttpRequest = getXMLHTTPRequest();

    var allData;


    if (aXMLHttpRequest)

    {
      aXMLHttpRequest.open("GET", url, true);

      aXMLHttpRequest.onreadystatechange = function (aEvt) {

        if(aXMLHttpRequest.readyState == 4){
          allData = aXMLHttpRequest.responseText;
          callback(allData)
        }

      };



      //Lets fire off the request

      aXMLHttpRequest.send(null);

    }

    else

    {

      //Oh no, the XMLHttpRequest object couldn't be instantiated.

      alert("A problem occurred instantiating the XMLHttpRequest object.");

    }

  }

  function addNew()
  {
    var newtodo = prompt("Enter New ToDo", "")
    alert(newtodo);
    var url = "./addtodo?value=" + encodeURIComponent(newtodo);
    var callback = function(data){
      alert(data);
    }
    loadURL(url, callback);
  }
  </script>
</head>
<body>
  <h1> Todos </h1>
  <a href='javascript:addNew()'> Add New </a>

  <div id='list'>
  </div>
</body>
</html>
